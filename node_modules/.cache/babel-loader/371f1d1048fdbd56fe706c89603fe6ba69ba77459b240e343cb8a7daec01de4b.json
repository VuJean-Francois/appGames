{"ast":null,"code":"import'./App.css';import Home from'./pages/Home';import React,{useEffect,useState}from'react';import{createBrowserRouter,RouterProvider}from'react-router-dom';import ErrorMessage from'./pages/ErrorMessage';import Details from'./pages/Details';import BookmarksContext from'./pages/BookmarksContext';import Bookmarks from'./pages/Bookmarks';import MyShop from'./pages/MyShop';import{jsx as _jsx}from\"react/jsx-runtime\";function App(){const[bookmarks,setBookmarks]=useState([{slug:\"super-mario-bros-3\",name:\"Super Mario Bros. 3\",background_image:\"https://media.rawg.io/media/screenshots/0992/092fc1910f067a95a07c0fbfd\"},{slug:\"the-legend-of-zelda-the-wind-waker\",name:\"The Legend of Zelda: The Wind Waker\",background_image:\"https://\"}]);const[dataLoaded,setDataLoaded]=useState(false);useEffect(()=>{if(dataLoaded){console.log(\"Sauvegarde:\",bookmarks);localStorage.setItem(\"bookmarks\",JSON.stringify(bookmarks));}},[bookmarks]);useEffect(()=>{const savedBookmarks=JSON.parse(localStorage.getItem(\"bookmarks\")||\"[]\");setBookmarks(savedBookmarks);console.log(\"Chargement:\",savedBookmarks);setDataLoaded(true);},[]);// Création du routeur\nconst router=createBrowserRouter([{path:\"/\",element:/*#__PURE__*/_jsx(Home,{}),errorElement:/*#__PURE__*/_jsx(ErrorMessage,{})},{path:\"/details/:slug\",element:/*#__PURE__*/_jsx(Details,{})},// On ajoute cette route\n{path:\"/bookmarks\",element:/*#__PURE__*/_jsx(Bookmarks,{})},{path:\"/shop\",element:/*#__PURE__*/_jsx(MyShop,{})}],{basename:\"/\"});return/*#__PURE__*/ (// Nous avions passé des données au context dans App.js:\n_jsx(BookmarksContext.Provider,{value:{bookmarks,setBookmarks},children:/*#__PURE__*/_jsx(RouterProvider,{router:router})}));}export default App;","map":{"version":3,"names":["Home","React","useEffect","useState","createBrowserRouter","RouterProvider","ErrorMessage","Details","BookmarksContext","Bookmarks","MyShop","jsx","_jsx","App","bookmarks","setBookmarks","slug","name","background_image","dataLoaded","setDataLoaded","console","log","localStorage","setItem","JSON","stringify","savedBookmarks","parse","getItem","router","path","element","errorElement","basename","Provider","value","children"],"sources":["C:/Users/jean-fra.vu/Documents/React/games/src/App.js"],"sourcesContent":["import './App.css';\nimport Home from './pages/Home';\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserRouter, RouterProvider } from 'react-router-dom';\nimport ErrorMessage from './pages/ErrorMessage';\nimport Details from './pages/Details';\nimport BookmarksContext from './pages/BookmarksContext';\nimport Bookmarks from './pages/Bookmarks';\nimport MyShop from './pages/MyShop';\n \n\n\n\nfunction App(){\n\n  const [bookmarks, setBookmarks] = useState([\n    {\n      slug: \"super-mario-bros-3\",\n      name: \"Super Mario Bros. 3\",\n      background_image:\n      \"https://media.rawg.io/media/screenshots/0992/092fc1910f067a95a07c0fbfd\"\n    },\n    {\n      slug: \"the-legend-of-zelda-the-wind-waker\",\n      name: \"The Legend of Zelda: The Wind Waker\",\n      background_image:\"https://\"\n    }\n  ]);\n\n  const [dataLoaded, setDataLoaded] = useState(false);\n\n  useEffect(() => {\n  if (dataLoaded) {\n  console.log(\"Sauvegarde:\", bookmarks) \n  localStorage.setItem(\"bookmarks\", JSON.stringify(bookmarks));\n  }\n  },[bookmarks]);\n\n  useEffect(() => {\n  const savedBookmarks = JSON.parse(localStorage.getItem(\"bookmarks\") || \"[]\");\n  setBookmarks(savedBookmarks);\n  console.log(\"Chargement:\", savedBookmarks);\n  setDataLoaded(true);\n  }, []);\n  \n\n\n  // Création du routeur\n  const router = createBrowserRouter([\n    {\n      path: \"/\",\n      element: <Home />,\n      errorElement: <ErrorMessage />,\n    },\n    {\n      path: \"/details/:slug\",\n      element: <Details />,\n    },\n    // On ajoute cette route\n    {\n      path: \"/bookmarks\",\n      element: <Bookmarks />,\n    },\n    {\n      path:\"/shop\",\n      element:<MyShop />,\n    }\n  ], { basename: \"/\" })\n \n  return (\n    // Nous avions passé des données au context dans App.js:\n    <BookmarksContext.Provider value={{ bookmarks, setBookmarks }}>\n    <RouterProvider router={router}></RouterProvider>\n    </BookmarksContext.Provider>\n  );\n  \n\n}\n \nexport default App;"],"mappings":"AAAA,MAAO,WAAW,CAClB,MAAO,CAAAA,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,mBAAmB,CAAEC,cAAc,KAAQ,kBAAkB,CACtE,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,gBAAgB,KAAM,0BAA0B,CACvD,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,MAAM,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAKpC,QAAS,CAAAC,GAAGA,CAAA,CAAE,CAEZ,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,CACzC,CACEa,IAAI,CAAE,oBAAoB,CAC1BC,IAAI,CAAE,qBAAqB,CAC3BC,gBAAgB,CAChB,wEACF,CAAC,CACD,CACEF,IAAI,CAAE,oCAAoC,CAC1CC,IAAI,CAAE,qCAAqC,CAC3CC,gBAAgB,CAAC,UACnB,CAAC,CACF,CAAC,CAEF,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAEnDD,SAAS,CAAC,IAAM,CAChB,GAAIiB,UAAU,CAAE,CAChBE,OAAO,CAACC,GAAG,CAAC,aAAa,CAAER,SAAS,CAAC,CACrCS,YAAY,CAACC,OAAO,CAAC,WAAW,CAAEC,IAAI,CAACC,SAAS,CAACZ,SAAS,CAAC,CAAC,CAC5D,CACA,CAAC,CAAC,CAACA,SAAS,CAAC,CAAC,CAEdZ,SAAS,CAAC,IAAM,CAChB,KAAM,CAAAyB,cAAc,CAAGF,IAAI,CAACG,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,WAAW,CAAC,EAAI,IAAI,CAAC,CAC5Ed,YAAY,CAACY,cAAc,CAAC,CAC5BN,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEK,cAAc,CAAC,CAC1CP,aAAa,CAAC,IAAI,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAIN;AACA,KAAM,CAAAU,MAAM,CAAG1B,mBAAmB,CAAC,CACjC,CACE2B,IAAI,CAAE,GAAG,CACTC,OAAO,cAAEpB,IAAA,CAACZ,IAAI,GAAE,CAAC,CACjBiC,YAAY,cAAErB,IAAA,CAACN,YAAY,GAAE,CAC/B,CAAC,CACD,CACEyB,IAAI,CAAE,gBAAgB,CACtBC,OAAO,cAAEpB,IAAA,CAACL,OAAO,GAAE,CACrB,CAAC,CACD;AACA,CACEwB,IAAI,CAAE,YAAY,CAClBC,OAAO,cAAEpB,IAAA,CAACH,SAAS,GAAE,CACvB,CAAC,CACD,CACEsB,IAAI,CAAC,OAAO,CACZC,OAAO,cAACpB,IAAA,CAACF,MAAM,GAAE,CACnB,CAAC,CACF,CAAE,CAAEwB,QAAQ,CAAE,GAAI,CAAC,CAAC,CAErB,oBACE;AACAtB,IAAA,CAACJ,gBAAgB,CAAC2B,QAAQ,EAACC,KAAK,CAAE,CAAEtB,SAAS,CAAEC,YAAa,CAAE,CAAAsB,QAAA,cAC9DzB,IAAA,CAACP,cAAc,EAACyB,MAAM,CAAEA,MAAO,CAAiB,CAAC,CACtB,CAAC,EAIhC,CAEA,cAAe,CAAAjB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}